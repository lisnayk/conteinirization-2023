# Лабораторна робота №6. Docker compose

## Мета: Ознайомитися з основними можливостями docker compose.

### Теоритичні відомості

Pеальні додатки має окремий контейнер для кожної своєї служби. Це означає, що нам доведеться створити, можливо, сотні Docker-файлів і потім окремо керувати кожним контейнером, що є громіздким процесом.
**docker-compose** — інструмент, що допомагає визначати та запускати багатоконтейнерні додатки. Docker Compose дозволяє запускати та зупиняти всі служби простими командами за допомогою одного YAML-файлу для кожної конфігурації.
 
**Ось деякі з можливостей Docker Compose:**

- Усі служби ізольовані та працюють на одному хості.
- Контейнери перезапускаються лише при зміні.
- Дані в об'ємах зберігаються при створенні нових контейнерів.
- Переміщення змінних та композиції між середовищами.
- Створюється віртуальна мережа для зручної взаємодії в межах середовищ.

**Переваги Docker Compose**

- Просте керування багатоконтейнерними додатками: Спрощує процес керування кількома контейнерами.
- Послідовність середовищ: Забезпечує узгодженість середовищ розробки, тестування та продакшну.
- Автоматизація: Легко налаштовує та зупиняє багатоконтейнерні середовища.
- Ефективне керування ресурсами: Підвищує продуктивність додатка та масштабованість.

**Недоліки Docker Compose**

- Обмежена масштабованість: Не підходить для великих і складних розгортань.
- Підтримка тільки одного хоста: Працює лише на одному хості.
- Базове балансування навантаження: Відсутні розширені функції балансування навантаження.
- Мінімальні можливості моніторингу: Немає вбудованих можливостей для моніторингу.

### Завдання

1. Ознайомитися з теоритичним матеріалом.
2. Завантажити та проагналізувати додаток у директорій [templates](templates)
3. Створити docker-compose.yml файл для запуску наступних сервісів:
   - **certboot** - сервіс, який використовує базовий образ **itzg/openssl-ubuntu** та генерує сертифікати для додатку й зберігає їх у папці **certs** виконуючи команду **CERT_GEN_COMMAND** з **.env** файлу.
   - **frontend-build** - сервіс, який використовує базовий образ **node:20** та виконую билд додатку за допомогою команди **npm run build:all** та очикую пареметри середовища **VITE_ARTICLES_URL** та **VITE_USERS_URL** значення яких знаходиться в **.env** файлі.
   - **web** - сервіс, який використовує базовий образ **nginx:latest** та підключається до залежить від сервісів **certboot** та **frontend-build**. Сервіс має відкрити порт 80 та 443 та підключити конфігурацію **nginx.conf** з папки **nginx**.
   
![img6_1.png](assets%2Fimg6_1.png)

### Контрольні питання
